# 1. SQL
- Structured Query Language
> - SQL is designed for a specific purpose : to query data contained in a relational database.
> - SQL is a set-based, declarative query language, not an imperative language such as C or BASIC.

- 기본적으로 **구조적**이고, **집합적**이고, **선언적**인 질의 언어
- 하지만, 결과 집합을 만드는 과정은 절차적일 수 밖에 없음
	- 이를 위해 프로시저가 필요
    - 프로시저를 만들어내는 DBMS 내부 엔진이 **SQL 옵티마이저**
- SQL 최적화란, <u>DBMS 내부에서 프로시저를 작성하고 컴파일해서 실행 가능한 상태로 만드는 전 과정</u>

** 절차적 프로그래밍
- 오라클 PL/SQL, SQL Server T-SQL 등 절차적 프로그래밍을 할 수 있는 확장 언어도 제공 

# 2. SQL 최적화 과정
## ① SQL 파싱
- SQL 파서가 진행
- 과정
	- 파싱 트리 생성 : SQL문을 이루는 개별 구성요소를 분석해서 파싱 트리 생성
    - Syntax 체크 : 문법적 오류가 없는지 확인
    - Semantic 체크 : 의미상 오류가 없는지 확인
## ② SQL 최적화
- 옵티마이저가 진행
- 미리 수집한 시스템 및 오브젝트 통계정보를 바탕으로 다양한 실행경로를 생성해서 비교
- 가장 효율적인 실행경로를 선택
### 옵티마이저 최적화
1. 사용자의 쿼리를 수행하는데 후보군이 될만한 실행계획들을 찾아낸다.
2. 데이터 딕셔너리에 미리 수집해 둔 오브젝트 통계 및 시스템 통계정보를 이용해 각 실행계획의 예상비용을 산정한다.
3. 최저 비용을 나타내는 실행계획을 선택한다. 
### 옵티마이저 힌트
- 통계정보에 담을 수 없는 데이터 또는 업무 특성을 활용해 더 효율적인 액세스 경로를 찾아낼 수도 있음
- 옵티마이저 힌트를 이용해 데이터 액세스 경로를 바꿀 수 있음 
- 주석 기호에 `+` 를 붙여서 사용
```sql
SELECT /*+ INDEX(A 고객_PK) */
FROM 고객 A
WHERE ID = '00001'
```
	- 힌트 안에 인자를 나열하는 경우 , 사용 가능
    - 힌트와 힌트 사이에는 공백으로만 작성
    - 테이블을 지정할 때는 스키마명까지 명시하면 안됨
    - 테이블에 ALIAS를 지정했다면 반드시 힌트에도 ALIAS를 사용해야 함 
## ③ 로우 소스 생성
- 로우 소스 생성기가 진행
- 옵티마이저가 선택한 실행경로를 실제 실행 가능한 코드 또는 프로시저 형태로 포맷팅 

